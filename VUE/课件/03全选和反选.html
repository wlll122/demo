<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<style>
			table{
				width: 700px;
				height: 400px;
				text-align: center;
			}
		</style>
		<script src="../vue.js"></script>
	</head>
	<body>
		<div id="app">
         <table border="1px solid #ccc" cellpadding="0" cellspacing="0" >
			 <tr>
				 <th><input type="checkbox" v-model="all" />全选 </th>
				 <th>id</th>
				 <th>商品名称</th>
				 <th>商品价格</th>
				 <th>购买数量</th>
			 </tr>
			<tr v-for="item in list">
				<td><input type="checkbox" v-model="item.isCheck" /> </td>
				<td>{{item.id}}</td>
				<td>{{item.name}}</td>
				<td>{{item.price}}</td>
				<td><input type="number" min="1" style="width: 50px;" v-model="item.num"  /></td>
			</tr>
			 <tr>
				 <td>总计</td>
				 <td colspan="5">{{total}}</td>
			 </tr>
		 </table>
		</div>
	<script>
		var vm=new Vue({
			el:"#app",
			data:{
				list:[
					{
						id:100,
						name:'realme 真我X50 Pro 5G 6400万变焦四摄',
						price:3699.00,
						num:1,
						isCheck:false
					},
					{
						id:102,
						name:'OPPO Find X2 超感官',
						price:5499.00,
						num:1,
						isCheck:false
					},
					{
						id:104,
						name:'三星Galaxy Note10+ 5G',
						price:6499.00,
						num:1,
						isCheck:false
					},
					{
						id:109,
						name:'Apple iPhone 8 Plus ',
						price:4399.00,
						num:1,
						isCheck:false
					}
				],
				
			},
			computed:{
				total(){
					var sum=0;
					this.list.forEach(el=>{
						if(el.isCheck){
							sum+=el.price*el.num
						}
												
					})
					return sum;
				},
			   all:{
				  get(){
					  return this.list.every(el=>el.isCheck) 
				  },
				  set(val){   //获取当前绑定对象的属性
            console.log(val)
					   this.list.forEach(el=>el.isCheck=val);

				  }
			   }	
			}
		})
		
	</script>	
	</body>
</html>
